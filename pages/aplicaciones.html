<!doctype html>

<html>

<head>
    <meta charset="UTF-8">
    <meta lang="es">
    <title>Modelo Stable Diffusion y la generación de imágenes con modelos de difusión</title>

    <!-- Asociar hoja de estilos de página -->
    <link rel="stylesheet" href="../styles/style.css" type="text/css">

    <!-- Asociar logo a la página -->
    <link rel="shortcut icon" href="../images/logo.png" />
    
    <!-- Importe de librerias a usar -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"> </script>
    <script src="./../scripts/script.js"> </script>
</head> 

<body>
    <!-- Encabezado de nombre de página -->
    <div class="contenedorEncabezado" id="inicio">
        <a href="../index.html" target="_self">
            <img class="imagenLogo" alt="IA logo" src="../images/logo.png">
        </a>
        <h1 class="textoTitulo">
            <a href="../index.html" target="_self">
                Generación de imágenes con modelos de difusión
            </a>
        </h1>
    </div>

    <!-- contenedor padre para menú de navegación y contenido -->
    <div class="contenedorMaestro">

        <input type="checkbox" id="expandirMenu">
        <label id="expandirMenuEtiqueta" for="expandirMenu">
            <img class="expandir" src="../images/Arriba.png">
            <img class="contraer" src="../images/Abajo.png">
        </label>

        <ul class="navegacion">
            <li class="itemVolver">
                <a href="#inicio" target="_self">
                    <button>
                        <img src="../images/Volver.png">
                        <p>Volver arriba</p>
                    </button>
                </a>
            </li>
            <li>
                <ul>
                    <li>
                        <a href="../index.html#modelosDifusion" target="_self">
                            <button>
                                Modelos de difusión
                            </button>
                        </a>
                    </li>
                    <li>
                        <a href="../index.html#conceptosTecnicos" target="_self">
                            <button>
                                Conceptos Teóricos
                            </button>
                        </a>
                    </li>
                    <li>
                    <a href="../index.html#componentes" target="_self">
                        <button>
                            Componentes
                        </button>
                    </a>
                    </li>
                </ul>
                <a  href="../index.html" target="_self">
                    <button>
                        <img src="../images/Home.png">
                        <p>Introducción</p>
                    </button>
                </a>
            </li>
            <li>
                <ul>
                    <li>
                    <a href="desarrollo.html#contribucion" target="_self">
                        <button>
                            Contribución mundial a IA
                        </button>
                    </a>
                        </li>
                    <li>
                    <a href="desarrollo.html#equipos" target="_self">
                        <button>
                            Equipos Importantes
                        </button>
                    </a>
                        </li>
                </ul>
                <a href="desarrollo.html" target="_self">
                    <button>
                        <img src="../images/Tools.png">
                        <p>Desarollo</p>
                    </button>
                </a>

            </li>
            <li>
                <ul>
                    <li>
                    <a href="historia.html#antecedentes" target="_self">
                        <button>
                            Antecedentes Históricos
                        </button>
                    </a>
                        </li>
                    <li>
                    <a href="historia.html#moderno" target="_self">
                        <button>
                            Desarrollo en la Era Moderna
                        </button>
                    </a>
                        </li>
                    <li>
                    <a href="historia.html#futuro" target="_self">
                        <button>
                            Futuro y desarrollos actuales
                        </button>
                    </a>
                        </li>
                </ul>
                <a href="historia.html" target="_self">
                    <button>
                        <img src="../images/Paper.png">
                        <p>Historia</p>
                    </button>
                </a>
            </li>
            <li>
                <ul>
                    <li>
                        <a href="aplicaciones.html#ejemplos" target="_self">
                            <button>
                                Ejemplos de uso
                            </button>
                        </a>
                    </li>
                    <li>
                        <a href="aplicaciones.html#experimentaloTuMismo" target="_self">
                            <button>
                                Experimenta tu mismo
                            </button>
                        </a>
                    </li>
                </ul>
                <a href="aplicaciones.html" target="_self">
                    <button>
                        <img src="../images/Activity.png">
                        <p>Aplicaciones</p>
                    </button>
                </a>

            </li>
            <li>
                <a href="personajes.html" target="_self">
                    <button>
                        <img src="../images/People.png">
                        <p>Personajes</p>
                    </button>
                </a>
            </li>
            <li>
                <ul>
                    <li>
                        <a href="referencias.html#imagenes" target="_self">
                            <button>
                                Imágenes
                            </button>
                        </a>
                    </li>
                    <li>
                        <a href="referencias.html#referencias" target="_self">
                            <button>
                                Referencias
                            </button>
                        </a>
                    </li>
                </ul>
                <a href="referencias.html" target="_self">
                    <button>
                        <img src="../images/Credits.png">
                        <p>Créditos</p>
                    </button>
                </a>
            </li>
        </ul>

        <!-- contenido principal -->
        <div class="contenedorContenido">
            <h1 class="textoTituloContenido">
                Aplicaciones
            </h1>
            <div class="contenedorSeparador"></div>
            

            <!-- Enlaces de navegación en la página -->
            <!-- Nótese que cada enlace referencia un elemento de la página identificado por su ID -->
            <div class="listaEnlacesRapidos">
                <a href="#actividadPhotoshop">Photoshop</a>
                <a href="#actividadBing">Bing</a>
                <a href="#actividadGPT4">GPT 4</a>
                <a href="#actividadAprendizaje">Aprendizaje</a>
            </div>

            <p class="textoContenido">
                A continuación se mencionan
                algunos casos de uso de los modelos generativos de imágenes basados en difusión para <b>diversos entornos de negocio</b>, y en general, actividades que permiten visualizar el alcance de éste tipo de modelos de Inteligencia Artificial.
            </p>

            <!-- Cada actividad tendrá su propio identificador de contenedor que permita navegar en su contenido -->

            <!-- Actividad: Photoshop -->
            <div id="actividadPhotoshop">
                <h1 class="textoTituloSeccion">
                    Adobe Photoshop y Adobe Firefly
                </h1>
                <p class="textoContenido">
                    Adobe Photoshop, y en general la suite de Adobe, ha implementado su propia herramienta de
                    generación
                    de imágenes llamada
                    <a href="https://www.adobe.com/products/firefly.html" target="_blank">
                        Adobe Firefly
                    </a>
                    . Ésta herramienta ha sido <b>entrenada con un espectro más amplio del mundo</b>, es decir,
                    conocimiento de monumentos y símbolos culturales que permiten captar más <b>expresividad del
                    usuario</b>. Así mismo, existen características que mejoran el desempeño del modelo, por
                    ejemplo, la generación de personas permite la especificación en alto detalle de piel, ojos, pelo,
                    posición corporal, entre otros. Así mismo, la calidad fotográfica suele ser un aspecto que resalta
                    de esta herramienta. <br>
                    Por otra parte, Adobe Firefly permite la generación de imágenes con estilos que se acomodan al <b>tema
                    general del documento</b>, incluso es posible simular la toma de fotos de escenas con una cámara
                    ficticia y
                    ajustes realistas como campo de visión y velocidad de obturación.
                </p>
                <div class="contenedorCentrado">
                    <img src="../images/AdobeFireflySample1.avif" alt="Logo CompVis" class="imgAspecto bordeSombra">
                </div>
            </div>

            <!-- Actividad: Bing -->
            <div id="actividadBing">
                <h1 class="textoTituloSeccion">
                    Bing Image Creator
                </h1>
                <p class="textoContenido">
                    Basado en DALL-E, se presenta otro modelo de difusión populad diseñado por OpenAI.
                    <a href="https://blogs.microsoft.com/blog/2023/03/21/create-images-with-your-words-bing-image-creator-comes-to-the-new-bing/"
                        target="_blank">
                        Bing Image Creator
                    </a>
                    fue introducido al conocido navegador <b>Microsoft Edge</b> a inicios de 2023.
                    Bing Image Creator permite, al igual que los modelos generativos ya descritos, generar imágenes a
                    partir de texto dado por el usuario que describe la imagen que quiere ver. La ventaja de ésta
                    herramienta se encuentra en su cercanía a un navegador web, pudiendo así, por ejemplo, <b>generar
                    imágenes en base a la búsqueda del usuario en la Web</b> en lugar de depender, como es usual, de
                    imágenes ya existentes en alguna otra fuente. Por otra parte, Bing también innova en la generación
                    de imágenes con las llamadas <b>Knowledge Cards</b> o Tarjetas de Conocimiento que proporcionan datos
                    curiosos/graciosos sobre la búsqueda del usuario acompañados por una imagen que describe dicha
                    información. Finalmente, Bing ha introducido incluso la capacidad de generar videos cortos que
                    describen el contenido que se busca, ésta característicca es conocida como Stories y ofrece una
                    <b>forma atractiva de interactuar con el contenido</b>.
                </p>
                <div class="contenedorCentrado">
                    <img src="../images/BingImageGeneratorSample1.jpg" alt="Logo Bing" class="imgAspecto bordeSombra">
                </div>
            </div>

            <!-- Actividad: GPT-4 -->
            <div id="actividadGPT4">
                <h1 class="textoTituloSeccion">
                    GPT v4
                </h1>
                <p class="textoContenido">
                    Ciertamente, <a
                        href="https://blogs.microsoft.com/blog/2023/03/21/create-images-with-your-words-bing-image-creator-comes-to-the-new-bing/"
                        target="_blank">
                        GPT v4
                    </a> no sólo es capaz de generar imágenes, sino más tipo de contenido como música y videos. GPT-4
                    incorpora DALL-E 3 para generación de imágenes. Al igual que el conocido ChatGPT, GPT-4 tiene la
                    capacidad de interactuar con el usuario a través de conversaciones en chat donde todas sus
                    capacidades son demostradas. Suele diferenciarse de otros modelos similares
                    gracias a su <b>alta capacidad de comprensión de entradas de texto</b> tras largas conversaciones donde
                    ambas partes han interactuado, siendo así posible la retroalimentación continua de sus respuestas.

                </p>
            </div>

            <!-- Actividad: Aprendizaje -->
            <div id="actividadAprendizaje">
                <h1 class="textoTituloSeccion">
                    Aprendizaje
                </h1>
                <div class="contenedorSeparador"></div>
                <p class="textoContenido">
                    Es importante mencionar que los continuos desarollos de la Inteligencia Artificial ameritan su
                    estudio a
                    profundidad, por tanto, resulta indispensable mencionar algunos cursos y oportunidades de
                    aprendizaje en
                    el tema.
                </p>
                <div class="listaEnlacesRapidos">
                    <a href="https://www.coursera.org/specializations/machine-learning-introduction"
                            target="_blank">Coursera: Machine
                            Learning Specialization</a>
                    <a href="https://www.udemy.com/course/generative-ai-english-version-unleashing-next-gen-ai/"
                            target="_blank">Udemy:
                            Generative AI (English Version): Unleashing Next-Gen A</a>
                    
                    <a href="https://www.udemy.com/course/stable-diffusion-como-crear-imagenes-impactantes-con-ia/"
                            target="_blank">Udemy:
                            Stable Diffusion: Como Crear Imágenes Impactantes con IA</a>
                    
                </div>
            </div>
            
            <div id="ejemplos">
                <h1 class="textoSubtituloContenido">
                    Ejemplos de uso
                </h1>
                
                <p class="textoContenido">
                    A continuación se presenta un conjunto de imágenes generadas usando el modelo Stable Diffusion a través de <a href="https://stablediffusionweb.com/app/image-generator">esta herramienta</a>. (Los textos usados se escribieron en Inglés debido a que este fue el idioma usado para entrenar el modelo de lenguaje para este caso particular)
                </p>
                <!-- 
                    Tabla de personajes, la intercalación de elementos con imagen alineada a 
                    izquierda o derecha se realiza en la hoja de estilos
                -->
                <div class="tablaGeneral">
                    <div>
                        <div>
                            <img src="../images/WolfUpstairs.jpg" alt="Wolf" />
                        </div>
                        <div>
                            <p class="textoContenido">
                                <b>"a wolf walking upstairs"</b>
                            </p>
                        </div>
                    </div>
                    <div>
                        <div>
                            <img src="../images/DuckCrossingStreet.jpg" alt="Duck" />
                        </div>
                        <div>
                            <p class="textoContenido">
                                <b>"a duck crossing the street with a backpack and an elegant hat"</b>
                            </p>
                        </div>
                    </div>
                    <div>
                        <div>
                            <img src="../images/CatHoldsGreenPencil.jpg" alt="Cat" />
                        </div>
                        <div>
                            <p class="textoContenido">
                                <b>"a cat holds a green pencil"</b>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="experimentaloTuMismo">
                <h1 class="textoSubtituloContenido">
                    ¡Pruébalo tu mismo!
                </h1>
                
                <p class="textoContenido">
                    La mayoría de los algoritmos tratados buscan remover ruido gaussiano de una imagen a la que este fue aplicado, sin embargo, ¿Cómo agregar ruido gaussiano a una imagen? ¡Lo haremos a continuación!
                </p>
                
                <p class="textoContenido">
                    Para empezar, sube una imagen y observa cómo se ve tras agregarle <b>ruido gaussiano</b> varias veces
                </p>
                
                <!-- Controles para carga de una imagen proveída por el usuario y a la cuál se le aplicará ruido gaussiano -->
                <div class="contenedorAdicionRuido">
                    <div class="controles">
                        <label class="actividadControl">
                            <input type="file" id="imagenSubida" class="inputFile"/>
                            Sube tu imagen aquí!
                        </label> 
                        <label class="actividadControl">
                            <input type="button" id="siguientePaso"/>
                            Agregar paso
                        </label>
                    </div>
                    
                    <div class="contenedorResponsivo" id="contenedorImagenes">
                        <div class="contenedorCanvasImagen bordeSombra">
                            <p class="textoContenido">
                                Imagen Original
                            </p>
                            <canvas id="imagenOriginal"></canvas>
                        </div>
                        
                        <div class="contenedorCanvasImagen bordeSombra" >
                            <p class="textoContenido" id="parrafoPasoImagen"></p>
                            <canvas id="imagenesTransformadas"> </canvas>
                            <div class="contenedorResponsivo">
                                <button id="navegarAnteriorPaso" class="botonNavegacionPaso">
                                    &lt;
                                </button>
                                <div id="pasos" class="contenedorNavegacionPasos">
                                </div>
                                <button id="navegarSiguientePaso" class="botonNavegacionPaso">
                                    &gt;
                                </button>
                            </div>
                            
                            
                        </div>
                        
                    </div>
                    
                    
                </div>
                
                <p class="textoContenido">
                    Un modelo de difusión es entrenado para, a partir de una imagen con varios pasos de <b>ruido aplicado</b> sea posible volver a la imagen original. En la práctica, el modelo no llegará a la misma imagen inicial sino a una totalmente nueva que recolecta <b>características condicionadas</b> por otros tipos de entrada, como <b>texto</b> u <b>otras imágenes</b>.
                </p>
                <p class="textoContenido">
                    Así, inicialmente, lo único que se necesita aparte de la entrada del usuario es un conjunto de pixeles generados aleatoriamente a partir de una distribución aleatoria (en este caso gaussiana). En otras palabras, a partir de una <b>imagen caótica</b> sin ningún significado para su visualizador se encuentra otra <b>imagen "ordenada"</b> y con más sentido que se acomode al contexto deseado.
                </p>
                <p class="textoContenido">
                    Finalmente, ¿Cómo se vería la imagen subida antes como un <b>vector latente</b>?
                </p>
                <p class="textoContenido">
                    Para presentar lo anterior, se usará un pequeño ejemplo de <b>red neuronal</b> sin entrenamiento previo compuesta por las siguientes carpas ordenadas en un <b>modelo secuencial</b> (una capa después de la otra):
                </p>
                <div class="listaContenido">
                    <p class="textoContenido contenedorMargenInferior">
                        <b>Capa de escalamiento de imagen</b> : Se requiere conocer de antemano los tamaños de las imágenes de entrada. Sin embargo, dado que estas pueden variar su alto y ancho, se usa una capa que permita transformar una imagen a un tamaño estándar de <b>200x200</b> pixeles.
                    </p>
                    <p class="textoContenido contenedorMargenInferior">
                        <b>Capa de convolución #1</b> : Durante el procesamiento de una imagen se suelen usar varias capas de <b>reducción de dimensionalidad</b>. Entre ellas, se encuentras las capas de convolución que, a partir de un filtro aprendido permiten reducir el tamaaño de la imagen (alto y ancho) además de aumentar el número de canales de ésta. <b>Número de filtros: 8</b>, es decir el número de canales tras la aplicación de esta capa. <b>Tamaño de kernel: 4x4</b>, es decir, el tamaño del filtro que se aplicará sobre la imagen de entrada. <b>Padding: 0x0</b>, no se tomarán margenes adicionales al filtrar la imagen. <b>Strides: 2x2</b>, cada 2 unidades (pixeles) de la imagen de entrada, se "colocará" el filtro sobre la imagen de entrada. <b>Activación: ReLu (Rectified Linear Unit)</b>, descartar valores negativos en salida (a los cuales se les asignará un cero).
                    </p>
                    <p class="textoContenido contenedorMargenInferior">
                        <b>Capa de max pooling #1</b> : Al igual que las capas de convolución, se usan las capas de pooling (tanto Max como Average) para reducir la dimensionalidad de la entrada, sin embargo, en este caso solo se descartarán valores de la entrada sin realizar ningún cálculo adicionl. <b>Tamaño de filtro: 2x2</b>.
                    </p>
                    <p class="textoContenido contenedorMargenInferior">
                        <b>Capa de convolución #2</b> : <b>Número de filtros: 16</b>. <b>Tamaño de kernel: 4x4</b>. <b>Padding: 0x0</b>. <b>Strides: 2x2</b>. <b>Activación: ReLu (Rectified Linear Unit)</b>.
                    </p>
                    <p class="textoContenido contenedorMargenInferior">
                        <b>Capa de max pooling #2</b> : <b>Tamaño de filtro: 3x3</b>.
                    </p>
                    <p class="textoContenido contenedorMargenInferior">
                        <b>Capa densa #1</b> : <b>Número de unidades: 64</b>. A través de esta capa se relaciona cada uno de los elementos de la imagen o resultado anterior con un punto de la salida, en este caso cada uno de las 64 unidades finales. <b>Activación: ReLu (Rectified Linear Unit)</b>.
                    </p>
                    <p class="textoContenido contenedorMargenInferior">
                        <b>Capa densa #2</b> : <b>Número de unidades: 16</b>. Ésta es la última capa del modelo y la cual determinará la representación de la imagen en un vector de 16 unidades, siendo éste el vector latente.
                        Cabe resaltar que en redes neuronales reales, esta ultima capa se encuentra conectada a otra red neuronal cuyo trabajo es reconstruir la imagen de entrada. En algunos casos, esta ultima red es estructuralmente una copia exacta de la inicial pero con sus capas en orden inverso y con capas de aumento de dimensionalidad como convoluciones transpuestas.
                    </p>
                </div>
                
                <label class="actividadControl">
                    <input type="button" id="calcularVector"/>
                    Calcular vector latente
                </label>
                <div id="resultadoCalculoVector"></div>
                <p class="textoContenido">
                    Como se puede observar, con estos 16 valores puede resumirse con cierto nivel de precisión las características principales de una imagen (o al menos aquellas relevantes para un modelo)
                </p>
            </div>
        </div>
    </div>

</body>

</html>